<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name=" robots" content="noindex, nofollow">
<title>AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅 | CLOUDMATE Tech</title>

<meta name="keywords" content="AWS, IAM, Session Manager, Systems Manager, EC2]" />
<meta name="description" content="소개
On-premise 에서든 Cloud 환경에서이든 서비스를 위한 운영환경은 외부 인터넷으로부터 분리되어 있어야하며 외부와의 접촉점이 있더라도 최소화해아하는 점은 동일합니다.
그래서 두 환경모두 내부 운영 서버접근을 위해서 별도의 Bastion Host나 VPN등을 사용해 인증된 사용자만 접근가능하도록 구성합니다.
AWS Systems Manager에서는 Private 망에 위치한 인스턴스 접근을 위해 위와 같은 별도 장치나 망구성을 변경하지 않고 IAM을 사용할 수 있습니다. Systems Manager의 Session Manger를 이용하면 인스턴스 접근 뿐만 아니라 인스턴스에서 해당 사용자의 활동 로깅까지 할 수 있습니다.">
<meta name="author" content="
  김성진&nbsp;·&nbsp;
  
">
<link rel="canonical" href="https://tech.cloudmt.co.kr/2020/12/10/aws-iam%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-private-%EB%A7%9D-ec2-%EC%A0%91%EA%B7%BC%EA%B3%BC-%EB%A1%9C%EA%B9%85%ED%95%98%EA%B8%B0/" />
<link href="https://tech.cloudmt.co.kr/assets/css/stylesheet.min.9b41f1fca0ecd98165aaa98ef85e6717a95f6621f6190ac064cd8c42a8334c28.css" integrity="sha256-m0Hx/KDs2YFlqqmO&#43;F5nF6lfZiH2GQrAZM2MQqgzTCg=" rel="preload stylesheet"
    as="style">
<link href="/assets/css/style.css" rel="stylesheet"/>

<link rel="icon" href="https://tech.cloudmt.co.kr/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://tech.cloudmt.co.kr/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tech.cloudmt.co.kr/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://tech.cloudmt.co.kr/apple-touch-icon.png">
<link rel="mask-icon" href="https://tech.cloudmt.co.kr/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.79.0" />



</head>

<body class="">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://tech.cloudmt.co.kr" accesskey="h">
                <img src="/assets/images/CMLOGO_SHADOW.png" alt="logo" aria-label="logo"
                    height="50"> </a>
            <span class="logo-switches">
                <span class="theme-toggle">
                    <a id="theme-toggle" accesskey="t">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </a>
                </span>
                
            </span>
        </div>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://tech.cloudmt.co.kr/archives/">
                    <span>
                        Archives
                    </span>
                </a>
            </li>
            <li>
                <a href="https://tech.cloudmt.co.kr/tags/">
                    <span>
                        Tags
                    </span>
                </a>
            </li>
            <li>
                <a href="https://www.wanted.co.kr/company/14239/">
                    <span>
                        Careers
                    </span>
                </a>
            </li>
            <li>
                <a href="https://cloudmt.co.kr/">
                    <span>
                        cloudmt.co.kr
                    </span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅
    </h1>
    <div class="post-meta">

2020. 12. 10.&nbsp;·&nbsp;
  <a href="https://tech.cloudmt.co.kr/authors/seongjin-kim/">김성진</a>&nbsp;·&nbsp;
  

    </div>
  </header> 

  <div class="post-content">
<ol>
<li>
<p>소개<br>
On-premise 에서든 Cloud 환경에서이든 서비스를 위한 운영환경은 외부 인터넷으로부터 분리되어 있어야하며 외부와의 접촉점이 있더라도 최소화해아하는 점은 동일합니다.<br>
그래서 두 환경모두 내부 운영 서버접근을 위해서 별도의 Bastion Host나 VPN등을 사용해 인증된 사용자만 접근가능하도록 구성합니다.<br>
AWS Systems Manager에서는 Private 망에 위치한 인스턴스 접근을 위해 위와 같은 별도 장치나 망구성을 변경하지 않고 IAM을 사용할 수 있습니다.
Systems Manager의 Session Manger를 이용하면 인스턴스 접근 뿐만 아니라 인스턴스에서 해당 사용자의 활동 로깅까지 할 수 있습니다.
지금 부터 이런 좋은 기능을 사용할 수 있게 환경을 구성해보겠습니다.</p>
</li>
<li>
<p>EC2 Policy 설정<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image1.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image2.png" alt="image">
    <figcaption>image</figcaption>
</figure>
</p>
<p>JSON 편집기 창에 아래와 같은 Policy 정보를 입력합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;Version&#34;</span>: <span style="color:#e6db74">&#34;2012-10-17&#34;</span>,
    <span style="color:#f92672">&#34;Statement&#34;</span>: [
        {
            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
            <span style="color:#f92672">&#34;Action&#34;</span>: <span style="color:#e6db74">&#34;s3:GetObject&#34;</span>,
            <span style="color:#f92672">&#34;Resource&#34;</span>: [
                <span style="color:#e6db74">&#34;arn:aws:s3:::aws-ssm-us-east-2/*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:s3:::aws-windows-downloads-us-east-2/*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:s3:::amazon-ssm-us-east-2/*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:s3:::amazon-ssm-packages-us-east-2/*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:s3:::us-east-2-birdwatcher-prod/*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:s3:::aws-ssm-distributor-file-us-east-2/*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:s3:::patch-baseline-snapshot-us-east-2/*&#34;</span>
            ]
        },
        {
            <span style="color:#f92672">&#34;Effect&#34;</span>: <span style="color:#e6db74">&#34;Allow&#34;</span>,
            <span style="color:#f92672">&#34;Action&#34;</span>: [
                <span style="color:#e6db74">&#34;s3:GetObject&#34;</span>,
                <span style="color:#e6db74">&#34;s3:PutObject&#34;</span>,
                <span style="color:#e6db74">&#34;s3:PutObjectAcl&#34;</span>,
                <span style="color:#e6db74">&#34;s3:GetEncryptionConfiguration&#34;</span>
            ],
            <span style="color:#f92672">&#34;Resource&#34;</span>: [
                <span style="color:#e6db74">&#34;arn:aws:s3:::ssm-test-logs/*&#34;</span>,
                <span style="color:#e6db74">&#34;arn:aws:s3:::ssm-test-logs &#34;</span>
            ]
        }
    ]
}
</code></pre></div><p>붉은 색 부분에는 사용하고 있는 리전 및 SSM 로그를 저장할 S3 버킷을 적습니다.<br>
Review Policy를 선택하여 적절한 Name을 입력하고 Create policy로 정책을 생성합니다.</p>
</li>
<li>
<p>EC2 Role 설정<br>
다음은 EC2에 적용할 Role을 설정합니다.<br>
IAM &gt; Role &gt; Create role에서 EC2를 선택합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image3.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image4.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
SSM을 사용하기 위한 기본 Policy를 선택<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image5.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
이전에 작성한 Policy를 선택<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image6.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
다음으로 넘어가 Tag 및 적절한 Role의 이름을 부여하여 Create role을 선택하여 Role을 생성합니다</p>
</li>
<li>
<p>VPC 앤드포인트 설정<br>
다음은 EC2가 Private한 환경에서도 AWS 서비스를 사용할 수 있도록 앤드포인트를 생성합니다.<br>
VPC &gt; Endpoint에서 Create Endpoint를 선택합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image7.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
Service Name을 검색합니다.<br>
(*ssm, ssmmessages, ec2messages, s3 총 4개를 하나씩 생성해야합니다.)<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image8.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
앤드포인트 및 EC2 에 사용할 SG을 선택합니다.

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image9.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
위 과정을 반복하여 아래와 같이 총 4개의 앤드포인트를 생성합니다.

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image10.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
라우팅 테이블 확인<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image11.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
IGW 및 NAT가 없으므로 해당 라우팅 테이블이 속한 서브넷에서는 외부인터넷망에 접근이 불가능한 것을 확인할 수 있습니다.</p>
</li>
<li>
<p>EC2 생성<br>
EC2 &gt; Launch Instance를 선택합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image12.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image13.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
적절한 인스턴스 타입을 선택 후 Configure Instance에서 이전에 설정한 VPC 및 IAM Role을 선택하여 설정합니다.<br>
(기존 사용중인 인스턴스에 적용할 경우 해당 인스턴스의 IAM Role만
변경하면 됩니다.<br>
* Role 변경 시 기존 사용중인 Role의 정책에 의해 서비스에 영향이 있을 수
있으니 주의하세요.)<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image14.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
이후 적절한 스토리지 및 Tag를 추가하신 후 Configure Security Group에서 이전에 설정한 SG를 적용합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image15.png" alt="image">
    <figcaption>image</figcaption>
</figure>
</p>
</li>
<li>
<p>Security Group 설정<br>
SG를 아래와 같이 같은 SG를 가진 인터페이스간에는 통신이 가능하도록 같은 SG를 추가하고 HTTPS 정책을 VPC 내부의 CIDR을 적용하여 통신이 가능하도록 합니다.

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image16.png" alt="image">
    <figcaption>image</figcaption>
</figure>
</p>
</li>
<li>
<p>System Manager<br>
System Manager &gt; Managed Instances에서 생성한 EC2 인스턴스가 확인되기를 기다립니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image17.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
인스턴스가 확인이 된다면 Session Manager에서 Preferences에서 로깅을 설정합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image18.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image19.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
*CloudWatch 로깅설정이 필요한 경우 CloudWatch logs를 체크합니다.<br>
*로그 또는 세션 데이터에 대한 암호화가 필요한 경우는 KMS 설정 및 S3 버킷 암호화를 참고하시기 바랍니다.</p>
</li>
<li>
<p>Session 시작하여 쉘 사용<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image20.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image21.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
작업이 완료된 후 Session을 Terminate합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image22.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
Session history에서 S3에 저장된 log를 확인할 수 있습니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image23.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
S3에서 log 파일을 다운로드 받습니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image24.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
Log를 확인합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-12-10/image25.png" alt="image">
    <figcaption>image</figcaption>
</figure>
<br>
감사합니다.</p>
</li>
</ol>

</div>
  <div class="post-content">
      <hr/>
  <div style="display: flex; flex-direction: row; margin: 10px;">
    <div style="background: url(/files/authors/%ea%b9%80%ec%84%b1%ec%a7%84.jpg) no-repeat center; 
        background-size: cover; width: 80px; height: 80px; 
        border-radius: 100%;">
    </div>
      <div style="margin-left: 10px; padding-top: 5px;">
        <strong>김성진</strong>
        <p>
            <a href="https://tech.cloudmt.co.kr/authors/seongjin-kim/">저자의 글 더 보기.</a>
        </p>
      </div>
  </div>
  
</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://tech.cloudmt.co.kr/tags/aws">AWS</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/iam">IAM</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/session-manager">Session Manager</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/systems-manager">Systems Manager</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/ec2">EC2]</a></li>
    </ul>






<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅 on twitter"
        href="https://twitter.com/intent/tweet/?text=AWS%20IAM%ec%9d%84%20%ec%82%ac%ec%9a%a9%ed%95%9c%20Private%20%eb%a7%9d%20EC2%20%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%20%ec%a0%91%ea%b7%bc%ea%b3%bc%20%eb%a1%9c%ea%b9%85&amp;url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f12%2f10%2faws-iam%25EC%259D%2584-%25EC%2582%25AC%25EC%259A%25A9%25ED%2595%2598%25EC%2597%25AC-private-%25EB%25A7%259D-ec2-%25EC%25A0%2591%25EA%25B7%25BC%25EA%25B3%25BC-%25EB%25A1%259C%25EA%25B9%2585%25ED%2595%2598%25EA%25B8%25B0%2f&amp;hashtags=AWS%2cIAM%2cSessionManager%2cSystemsManager%2cEC2%5d">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f12%2f10%2faws-iam%25EC%259D%2584-%25EC%2582%25AC%25EC%259A%25A9%25ED%2595%2598%25EC%2597%25AC-private-%25EB%25A7%259D-ec2-%25EC%25A0%2591%25EA%25B7%25BC%25EA%25B3%25BC-%25EB%25A1%259C%25EA%25B9%2585%25ED%2595%2598%25EA%25B8%25B0%2f&amp;title=AWS%20IAM%ec%9d%84%20%ec%82%ac%ec%9a%a9%ed%95%9c%20Private%20%eb%a7%9d%20EC2%20%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%20%ec%a0%91%ea%b7%bc%ea%b3%bc%20%eb%a1%9c%ea%b9%85&amp;summary=AWS%20IAM%ec%9d%84%20%ec%82%ac%ec%9a%a9%ed%95%9c%20Private%20%eb%a7%9d%20EC2%20%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%20%ec%a0%91%ea%b7%bc%ea%b3%bc%20%eb%a1%9c%ea%b9%85&amp;source=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f12%2f10%2faws-iam%25EC%259D%2584-%25EC%2582%25AC%25EC%259A%25A9%25ED%2595%2598%25EC%2597%25AC-private-%25EB%25A7%259D-ec2-%25EC%25A0%2591%25EA%25B7%25BC%25EA%25B3%25BC-%25EB%25A1%259C%25EA%25B9%2585%25ED%2595%2598%25EA%25B8%25B0%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f12%2f10%2faws-iam%25EC%259D%2584-%25EC%2582%25AC%25EC%259A%25A9%25ED%2595%2598%25EC%2597%25AC-private-%25EB%25A7%259D-ec2-%25EC%25A0%2591%25EA%25B7%25BC%25EA%25B3%25BC-%25EB%25A1%259C%25EA%25B9%2585%25ED%2595%2598%25EA%25B8%25B0%2f&title=AWS%20IAM%ec%9d%84%20%ec%82%ac%ec%9a%a9%ed%95%9c%20Private%20%eb%a7%9d%20EC2%20%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%20%ec%a0%91%ea%b7%bc%ea%b3%bc%20%eb%a1%9c%ea%b9%85">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f12%2f10%2faws-iam%25EC%259D%2584-%25EC%2582%25AC%25EC%259A%25A9%25ED%2595%2598%25EC%2597%25AC-private-%25EB%25A7%259D-ec2-%25EC%25A0%2591%25EA%25B7%25BC%25EA%25B3%25BC-%25EB%25A1%259C%25EA%25B9%2585%25ED%2595%2598%25EA%25B8%25B0%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅 on whatsapp"
        href="https://api.whatsapp.com/send?text=AWS%20IAM%ec%9d%84%20%ec%82%ac%ec%9a%a9%ed%95%9c%20Private%20%eb%a7%9d%20EC2%20%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%20%ec%a0%91%ea%b7%bc%ea%b3%bc%20%eb%a1%9c%ea%b9%85%20-%20https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f12%2f10%2faws-iam%25EC%259D%2584-%25EC%2582%25AC%25EC%259A%25A9%25ED%2595%2598%25EC%2597%25AC-private-%25EB%25A7%259D-ec2-%25EC%25A0%2591%25EA%25B7%25BC%25EA%25B3%25BC-%25EB%25A1%259C%25EA%25B9%2585%25ED%2595%2598%25EA%25B8%25B0%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS IAM을 사용한 Private 망 EC2 인스턴스 접근과 로깅 on telegram"
        href="https://telegram.me/share/url?text=AWS%20IAM%ec%9d%84%20%ec%82%ac%ec%9a%a9%ed%95%9c%20Private%20%eb%a7%9d%20EC2%20%ec%9d%b8%ec%8a%a4%ed%84%b4%ec%8a%a4%20%ec%a0%91%ea%b7%bc%ea%b3%bc%20%eb%a1%9c%ea%b9%85&amp;url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f12%2f10%2faws-iam%25EC%259D%2584-%25EC%2582%25AC%25EC%259A%25A9%25ED%2595%2598%25EC%2597%25AC-private-%25EB%25A7%259D-ec2-%25EC%25A0%2591%25EA%25B7%25BC%25EA%25B3%25BC-%25EB%25A1%259C%25EA%25B9%2585%25ED%2595%2598%25EA%25B8%25B0%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; 2020 <a href="https://tech.cloudmt.co.kr">CLOUDMATE Tech</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<button class="top-link" id="top-link" type="button" aria-label="go to top" title="Go to Top" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6">
        <path d="M12 6H0l6-6z" /></svg>
</button>



<script defer src="https://tech.cloudmt.co.kr/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };
    mybutton.onclick = function () {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
        window.location.hash = ''
    }

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
