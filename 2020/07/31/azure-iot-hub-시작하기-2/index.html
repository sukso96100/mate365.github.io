<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="icon" href="/assets/favicon.ico">


    
    
    <title>Azure IoT Hub 시작하기 -2 · 클라우드메이트 기술 블로그🦒</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    <link rel="stylesheet" href="/style.main.min.68a2444d3b5ba398d0abf4a55a7244effd6fcc47e53db58744c4113087ff12c5.css" />

    
    <link rel="stylesheet" href="/style.custom.min.1a8c14ada53575da722f1324d162d2599ea24f1551f5ccb93df4975f01aab3b7.css" />
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-146594086-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<meta property="og:title" content="Azure IoT Hub 시작하기 -2" />
<meta property="og:description" content="Stream Analytics job은 여러 원본으로부터 스트리밍 데이터를 동시에 분석 및 처리하도록 설계된 이벤트 처리 엔진입니다. Azure IoT Hub, Azure Event Hubs, Azure Blob Storage에서 원본 데이터를" />

<meta property="article:author" content="김예림"/>



<meta property="og:image" content="/2020/07/31/azure-iot-hub-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-2/images/1.png" />
</head>
<body class=" post-template ">

    <div class="site-wrapper">

<header class="site-header"><div class="outer site-nav-main">
    <div class="inner"><nav class="site-nav">
        <div class="site-nav-left">
            
                <a class="site-nav-logo" href="/">클라우드메이트 기술 블로그🦒</a>
            
            <div class="site-nav-content">
                    <ul class="nav" role="menu">
                        
                        <li class="nav-home" role="menuitem"><a href="/categories/hands-on">Hands On</a></li>
                        
                        <li class="nav-home" role="menuitem"><a href="/categories/tech">Tech</a></li>
                        
                        <li class="nav-home" role="menuitem"><a href="/categories/column">Column</a></li>
                        
                        <li class="nav-home" role="menuitem"><a href="/categories/mate-story">Mate Story</a></li>
                        
                        
                        <li class="nav-home" role="menuitem"><a href=""></a></li>
                        
                    </ul>
            </div>
        </div>
    
  
</nav></div>
</div></header>

<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post ">

            <header class="post-full-header">
                
                    <section class="post-full-tags">
                    
                    
                        <a href="/categories/post"><b>Post</b></a>
                    
                    
                        <a href="/tags/azure" class="tag">#Azure</a>
                    
                        <a href="/tags/iot" class="tag">#IoT</a>
                    
                        <a href="/tags/microsoft-azure" class="tag">#Microsoft Azure</a>
                    
                    </section>
                
                <h1 class="post-full-title">Azure IoT Hub 시작하기 -2</h1>

                

                <div class="post-full-byline">
                    <section class="post-full-byline-content">

                        <ul class="author-list">
  <li class="author-list-item">
        <div class="author-card">
            <div class="author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg></div>
            <div class="author-info">
                <div class="author-info">
                    <h2>김예림</h2>
                </div>
            </div>
        </div>
        <a href="/authors/yerim-kim/" class="static-avatar author-profile-image">
            
                <div class="author-profile"
                    style="background: url(/authors/yerim-kim/%ea%b9%80%ec%98%88%eb%a6%bc.jpg) no-repeat center; 
                    background-size: cover; width: 30px; height: 30px; 
                    border-radius: 100%; margin-bottom: 10px;">
                </div>
            
        </a>
    </li>
  

</ul>

                        <section class="post-full-byline-meta">
                            
                                
                                <h4 class="author-name">김예림</h4>
                                
                            
                            <div class="byline-meta-content">
                                <time class="byline-meta-date" datetime="2020-127-07">2020. 07. 31.</time>
                                <span class="byline-reading-time"><span class="bull">&bull;</span> 2 min read</span>
                            </div>
                        </section>

                    </section>


                </div>
            </header>

            
            <figure class="post-full-image">
                <img src="images/1.png" alt="Azure IoT Hub 시작하기 -2" />
            </figure>
            

            <section class="post-full-content">
                <div class="post-content">
                    <p>Stream Analytics job은 여러 원본으로부터 스트리밍 데이터를 동시에 분석 및 처리하도록 설계된 이벤트 처리 엔진입니다.
Azure IoT Hub, Azure Event Hubs, Azure Blob Storage에서 원본 데이터를 수집할 수 있습니다.
이번 포스팅에서는 IoT Hub에서 Azure Stream Analytics job으로 데이터를 전송하고, 결과를 Blob 스토리지에 저장하는 방법을 소개합니다.</p>
<p><img src="images/1.png" alt="Stream Analytics job"></p>
<p>목차는 다음과 같습니다.</p>
<ul>
<li>Azure Stream Analytics job 생성</li>
<li>Blob Storage 생성</li>
<li>입력 및 출력 설정</li>
<li>쿼리 수정</li>
<li>작동 테스트</li>
</ul>
<h2 id="1-azure-stream-analytics-job-생성">1. Azure Stream Analytics job 생성</h2>
<ol>
<li>
<p>Azure Portal에서 스트림 분석 작업을 검색하여 선택합니다.</p>
</li>
<li>
<p>작업 이름과 구독, 리소스 그룹, 위치 등을 지정하고, 호스팅 환경은 클라우드로 선택합니다.</p>
</li>
</ol>
<p><img src="images/2.png" alt="Stream Analytics job"></p>
<h2 id="2-blob-storage-생성">2. Blob Storage 생성</h2>
<p>작업 결과를 저장할 Blob Storage를 생성합니다.</p>
<ol>
<li>
<p>스토리지 계정을 추가합니다.</p>
</li>
<li>
<p>생성된 스토리지 계정에서 Blob Service &gt; 컨테이너를 클릭합니다.</p>
</li>
<li>
<p>공용 액세스 수준을 Blob으로 지정하여 컨테이너를 생성합니다.</p>
</li>
</ol>
<h2 id="3-입력-및-출력-설정">3. 입력 및 출력 설정</h2>
<ol>
<li>
<p>스트림 분석 작업 메뉴에서 <strong>입력</strong>을 선택하고, <strong>+스트림 입력 추가</strong>를 클릭하여 <strong>IoT Hub</strong>를 선택합니다.</p>
</li>
<li>
<p>입력 별칭을 <strong>INPUT</strong>으로 입력하고, 미리 생성해둔 IoT Hub와 연결합니다.</p>
</li>
</ol>
<p><img src="images/3.png" alt=""></p>
<ol start="3">
<li>
<p>스트림 분석 작업 메뉴에서 <strong>출력</strong>을 선택하고, <strong>+추가</strong>를 클릭하여 <strong>Blob Storage</strong>를 선택합니다.</p>
</li>
<li>
<p>출력 별칭으로 <strong>OUTPUT</strong>을 입력하고, 앞서 생성한 스토리지 계정과 컨테이너를 선택합니다.</p>
</li>
</ol>
<p><img src="images/4.png" alt=""></p>
<blockquote>
<p>참고 : 출력 대상으로 설정할 수 있는 목록은 다음과 같습니다.</p>
</blockquote>
<p><img src="images/5.png" alt=""></p>
<h2 id="4-쿼리-수정">4. 쿼리 수정</h2>
<ol>
<li>스트림 분석 작업 메뉴에서 <strong>쿼리</strong>를 선택하고, 쿼리문을 수정합니다. <em>출력 별칭과 입력 별칭을 각각 INTO와 FROM 아래 입력합니다.</em></li>
</ol>
<p><img src="images/6.png" alt=""></p>
<ol start="2">
<li>
<p>스트림 분석 작업을 시작합니다.</p>
</li>
<li>
<p>결과를 확인합니다. 결과는 인코딩 형식으로 지정한 JSON 파일로 저장됩니다.</p>
</li>
</ol>
<p><img src="images/7.png" alt=""></p>
<p>스트림 분석 작업을 만드는 간단한 방법을 알아보았습니다. 출력으로 Power BI나 Service Bus 큐 등을 지정하면 데이터를 시각화하거나 특정 메시지에 대한 일괄 알람을 적용하는 작업을 할 수 있습니다. 또한, 여러 이벤트를 시간 순서대로 수행하도록 만들 수 있습니다.</p>
<p>다음 포스팅에서는 IoT Hub에서 서비스 버스로 라우팅을 설정하고, 로직 앱을 이용해 메일 알람을 설정하는 방법을 알아보겠습니다.</p>

                </div>
            </section>

        </article>

    </div>
</main>
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">

    <article class="read-next-card">
        <header class="read-next-card-header">
            <h3><span>More in</span> <a href="/categories/post">Post</a></h3>
        </header>
        <div class="read-next-card-content">
            <ul>
                
                <li>
                    <h4><a href="/2021/02/17/spot_by_netapp_%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0/">Spot By NetApp 시작하기</a></h4>
                    <div class="read-next-card-meta">
                            <p><time datetime="2021-122-02">2021. 02. 17.</time> 
                                
                            </p>
                    </div>
                </li>
                
                <li>
                    <h4><a href="/2021/02/16/devtest-%ED%86%B5%ED%95%9C-devops-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0/">DevTest 통한 DevOps 구성하기</a></h4>
                    <div class="read-next-card-meta">
                            <p><time datetime="2021-122-02">2021. 02. 16.</time> 
                                
                            </p>
                    </div>
                </li>
                
                <li>
                    <h4><a href="/2021/02/16/%EC%A0%81%EC%A0%88%ED%95%9Cazure%EC%9A%B4%EC%98%81%EC%9C%BC%EB%A1%9C%EB%B9%84%EC%9A%A9%EC%9D%84%EC%B5%9C%EC%A0%81%ED%99%94%ED%95%98%EC%8B%9C%EB%A9%B4%EB%90%A9%EB%8B%88%EB%8B%A4/">적절한 Azure 운영으로 비용을 최적화하시면 됩니다.</a></h4>
                    <div class="read-next-card-meta">
                            <p><time datetime="2021-122-02">2021. 02. 16.</time> 
                                
                            </p>
                    </div>
                </li>
                
            </ul>
        </div>
    </article>
<article class="post-card post


 ">

        
            <a class="post-card-image-link" href="/2020/07/31/azure-iot-hub-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-3/">
                <img class="post-card-image"src="/2020/07/31/azure-iot-hub-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-3/images/001.PNG" alt="Azure IoT Hub 시작하기 -3"/>
            </a>
        
        
    
        <div class="post-card-content">
    
            <a class="post-card-content-link" href="/2020/07/31/azure-iot-hub-%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-3/">
    
                <header class="post-card-header">
                    
                        
                        <div class="post-card-primary-tag">Post</div>
                    

                    <h2 class="post-card-title">Azure IoT Hub 시작하기 -3</h2>
                </header>
    
                <section class="post-card-excerpt">
                    <p>IoT Hub에서 서비스 버스로 라우팅을 설정하고, Logic Apps를 이용해 메일 알람을 설정하는 방법을 알아보겠습니다. 장비의 이상 탐지를 위해 IoT Hub에서 특정 값이</p>
                </section>
    
            </a>

            
                
                
                <footer class="post-card-meta">
                    <ul class="author-list">
                        <li class="author-list-item">
                            <div class="author-name-tooltip"><b>김예림</b>님의 글 모두 보기</div>
                            <a href="/authors/yerim-kim/" class="static-avatar author-profile-image">
                            
                                <div class="author-profile"
                                    style="background: url(/authors/yerim-kim/%ea%b9%80%ec%98%88%eb%a6%bc.jpg) no-repeat center; 
                                    background-size: cover; width: 30px; height: 30px; 
                                    border-radius: 100%; margin-bottom: 10px;">
                                </div>
                            
                            </a>
                        </li>
                    </ul>
                    <div class="post-card-byline-content">
                        <span>김예림</span>
                        <span class="post-card-byline-date"><time datetime="2020-127-07">2020. 07. 31.</time>
                            <span class="bull">&bull;</span> 3 min read</span>
                    </div>
                </footer>
                
            
        </div>

</article>

            <article class="post-card post


 ">

        
            <a class="post-card-image-link" href="/2020/08/07/nambu_womanup_mentoring/">
                <img class="post-card-image"src="/2020/08/07/nambu_womanup_mentoring/images/mentoring.jpeg" alt="남부여성발전센터 멘토링데이 강연 후기"/>
            </a>
        
        
    
        <div class="post-card-content">
    
            <a class="post-card-content-link" href="/2020/08/07/nambu_womanup_mentoring/">
    
                <header class="post-card-header">
                    
                        
                        <div class="post-card-primary-tag">Post</div>
                    

                    <h2 class="post-card-title">남부여성발전센터 멘토링데이 강연 후기</h2>
                </header>
    
                <section class="post-card-excerpt">
                    <p>강연 제의 얼마 전, 좋은 기회가 생겨 남부여성발전센터 에서 주최하는 멘토링데이의 멘토로 학생들 앞에서 짧은 강연을 하였습니다. 강연이라 하기에도 부끄러운 짧은 1</p>
                </section>
    
            </a>

            
                
                
                <footer class="post-card-meta">
                    <ul class="author-list">
                        <li class="author-list-item">
                            <div class="author-name-tooltip"><b>이승윤</b>님의 글 모두 보기</div>
                            <a href="/authors/seungyoon-lee/" class="static-avatar author-profile-image">
                            
                                <div class="author-profile"
                                    style="background: url(/authors/seungyoon-lee/%ec%9d%b4%ec%8a%b9%ec%9c%a4.jpg) no-repeat center; 
                                    background-size: cover; width: 30px; height: 30px; 
                                    border-radius: 100%; margin-bottom: 10px;">
                                </div>
                            
                            </a>
                        </li>
                    </ul>
                    <div class="post-card-byline-content">
                        <span>이승윤</span>
                        <span class="post-card-byline-date"><time datetime="2020-128-08">2020. 08. 07.</time>
                            <span class="bull">&bull;</span> 7 min read</span>
                    </div>
                </footer>
                
            
        </div>

</article>
        </div>
    </div>
</aside>


        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright">
                    
                    <a href="https://cloudmt.co.kr" target="_blank" rel="noopener">
                    <img src="/assets/images/CMLOGO_WHITE.png" style="height: 40px"/>
                    </a>
                    
                    <a href="/">
                    
                    © 2019-Present CLOUDMATE Corp
                    
                    </a>
                </section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    <a href="https://fb.me/cloudmatekr" target="_blank" rel="noopener">Facebook</a>
                    
                    <a href="https://github.com/mate365" target="_blank" rel="noopener">Github</a>
                    <a href="https://jonathanjanssens.com" target="_blank" rel="noopener" style="opacity: 0.5;">Hugo Casper3 by Jonathan Janssens</a>
                </nav>
            </div>
        </footer>

    </div>

</body>
</html>