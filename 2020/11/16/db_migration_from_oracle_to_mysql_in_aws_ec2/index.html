<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name=" robots" content="noindex, nofollow">
<title>AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기 | CLOUDMATE Tech</title>

<meta name="keywords" content="DB Migration, On-premise, Oracle, MySQL, Cloud, Amazon Web Services, AWS, EC2, DMS, SCT" />
<meta name="description" content="시작하기 전에 현대차, 카카오, KT, 대한항공 등 에서 촉발된 탈(脫) Oracle 프로젝트(escape from oracle)는 오픈소스 DB, 클라우드 DB 의 안정성이 높아지면서 국내 뿐만 아니라 해외에서 먼저 트렌드로 자리잡았으나, 그럼에도 불구하고 현존 RDBMS 중 성능 최강인 (가격도 최강) Oracle 을 100% 대체할 수 있는 RDBMS는 안타깝게도 아직까지는 없다고 생각합니다. (2020년말기준) 그렇기 때문에 Oracle에서 벗어나려면 Oracle에서만 지원하는 기능을 어떻게 타겟DB에서 대체 또는 구현할지 에 대한 깊은 고민이 필요합니다. (굳은 신념도 필요합니다.)
이번 C고객사에서는 시범적으로 기존 온프레미스 Oracle 의 레플리카를 퍼블릭 클라우드 환경으로 마이그레이션 하여 향후에 있을 감사 등 에 대응할 수 있길 원하셨습니다.">
<meta name="author" content="
  김정우&nbsp;·&nbsp;
  
">
<link rel="canonical" href="https://tech.cloudmt.co.kr/2020/11/16/db_migration_from_oracle_to_mysql_in_aws_ec2/" />
<link href="https://tech.cloudmt.co.kr/assets/css/stylesheet.min.dd8880218de039fe9acb23d48360e312cf853dd63cb9f6c2e8260d1ccfc3d683.css" integrity="sha256-3YiAIY3gOf6ayyPUg2DjEs&#43;FPdY8ufbC6CYNHM/D1oM=" rel="preload stylesheet"
    as="style">
<link href="/assets/css/style.css" rel="stylesheet"/>

<link rel="icon" href="https://tech.cloudmt.co.kr/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://tech.cloudmt.co.kr/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tech.cloudmt.co.kr/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://tech.cloudmt.co.kr/apple-touch-icon.png">
<link rel="mask-icon" href="https://tech.cloudmt.co.kr/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.80.0" />



</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        .theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://tech.cloudmt.co.kr" accesskey="h" title="  (Alt + H)">
                <img src="/assets/images/CMLOGO_SHADOW.png" alt="logo" aria-label="logo"
                    height="50"> </a>
            <span class="logo-switches">
                <span class="theme-toggle" title="(Alt + T)">
                    <a id="theme-toggle" accesskey="t">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </a>
                </span>
                
            </span>
        </div>
        <ul class="menu" id="menu" onscroll="menu_on_scroll()">
            <li>
                <a href="https://tech.cloudmt.co.kr/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://tech.cloudmt.co.kr/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://www.wanted.co.kr/company/14239" title="Careers">
                    <span>Careers</span>
                </a>
            </li>
            <li>
                <a href="https://cloudmt.co.kr" title="cloudmt.co.kr">
                    <span>cloudmt.co.kr</span>
                </a>
            </li></ul>
    </nav>
</header>

    <main class="main">

<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">
      AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기
    </h1>
    <div class="post-meta">

2020. 11. 16.&nbsp;·&nbsp;
  <a href="https://tech.cloudmt.co.kr/authors/jungwoo-kim/">김정우</a>&nbsp;·&nbsp;
  

    </div>
  </header> 

  <div class="post-content">
<h2 id="시작하기-전에">시작하기 전에<a hidden class="anchor" aria-hidden="true" href="#시작하기-전에">#</a></h2>
<p>현대차, 카카오, KT, 대한항공 등 에서 촉발된 <code>탈(脫) Oracle</code> 프로젝트(<code>escape from oracle</code>)는 오픈소스 DB, 클라우드 DB 의 안정성이 높아지면서 국내 뿐만 아니라 해외에서 먼저 트렌드로 자리잡았으나, 그럼에도 불구하고 현존 RDBMS 중 성능 최강인 <del>(가격도 최강)</del> Oracle 을 100% 대체할 수 있는 RDBMS는 안타깝게도 아직까지는 없다고 생각합니다. (2020년말기준) 그렇기 때문에 Oracle에서 벗어나려면 Oracle에서만 지원하는 기능을 어떻게 타겟DB에서 대체 또는 구현할지 에 대한 깊은 고민이 필요합니다. <del>(굳은 신념도 필요합니다.)</del></p>
<p>이번 C고객사에서는 시범적으로 기존 온프레미스 Oracle 의 레플리카를 퍼블릭 클라우드 환경으로 마이그레이션 하여 향후에 있을 감사 등 에 대응할 수 있길 원하셨습니다. 미션 크리티컬한 서비스 DB 가 아니여서 다운타임에 대한 고려가 불필요했습니다. 빗발치는 OLTP 가 발생하지 않는 DB의 마이그레이션이라&hellip; 꿀냄새가 진동하네요.</p>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/toon_w.png" alt="Close your eyes and hope for the best. AWS에서 제공하는 도구는 꽤나 강력합니다.">
    <figcaption>Close your eyes and hope for the best. AWS에서 제공하는 도구는 꽤나 강력합니다.</figcaption>
</figure>
</p>
<hr>
<h2 id="사전-검토">사전 검토<a hidden class="anchor" aria-hidden="true" href="#사전-검토">#</a></h2>
<ul>
<li>소스 DB 체크
<ol>
<li>버전: Oracle 11g Ent (Release 11.2.0.4.0) on TNS for Linux - 64bit</li>
<li>총용량(1TiB 가량)</li>
<li>오브젝트 현황 파악</li>
</ol>
</li>
<li>타겟 DB 체크
<ol>
<li>버전: MySQL 8.0.21 on Amazon Linux 2 - 64bit</li>
<li>EC2 인스턴스 유형: r5.4xlarge (vCPUs: 16, 메모리: 128GiB)</li>
</ol>
</li>
<li>AWS 콘솔에서 작업자 접속용 EC2 인스턴스 생성 (이하 <code>작업콘솔</code>)</li>
<li><code>작업콘솔</code> 에서 소스, 타겟 접속 가능하도록 가상 네트워크 구성 및 방화벽 설정</li>
<li>작업 절차 거버넌스
<ol>
<li>Schema Conversion Tool (이하 <code>SCT</code>) 로 스키마 이관</li>
<li>Database Migration Service (이하 <code>DMS</code>) 로 데이터 이관</li>
<li>미싱 스키마, 미싱 데이터 수동 점검</li>
</ol>
</li>
<li>Procedure, fucntion, sequence 는 마이그레이션 대상에서 제외</li>
<li>별도의 SSL 구성은 하지 않음</li>
</ul>
<hr>
<h2 id="마이그레이션-아키텍쳐">마이그레이션 아키텍쳐<a hidden class="anchor" aria-hidden="true" href="#마이그레이션-아키텍쳐">#</a></h2>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/architecture.png" alt="Migration Architecture">
    <figcaption>Migration Architecture</figcaption>
</figure>
</p>
<blockquote>
<ol>
<li>작업콘솔의 SCT에서 소스의 스키마를 DDL 형태로 로드하여 타겟에 적용합니다.</li>
<li>AWS 콘솔에서 DMS 내에 필요한 리소스를 셋팅 합니다.<br>
<em><strong>(복제 인스턴스, 소스/타겟 엔드포인트 생성)</strong></em></li>
<li>DMS 내에 여러 마이그레이션 태스크를 소스 스키마 단위로 생성하고 일괄 실행합니다.</li>
<li>소스, 타겟에 직접 SQL을 실행하여 전체 오브젝트 현황을 비교하고 검증합니다.</li>
</ol>
</blockquote>
<p>자 이제 사전 검토했고 아키텍쳐 파악했으니, 실제로 시작해봅시다.</p>
<hr>
<h2 id="1-작업콘솔을-셋팅-합니다">1. <code>작업콘솔</code>을 셋팅 합니다.<a hidden class="anchor" aria-hidden="true" href="#1-작업콘솔을-셋팅-합니다">#</a></h2>
<ol>
<li>
<p>AWS 콘솔에서 퍼블릭 IPv4 와 RDP port 를 확인하여 <code>작업콘솔</code>에 원격 접속 합니다. <br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/aws_01.png" alt="AWS console">
    <figcaption>AWS console</figcaption>
</figure>
</p>
</li>
<li>
<p><code>작업콘솔</code>에서 소스 검증을 위하여 SQL Developer 설치 후 소스DB 접속 테스트를 합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/sqldeveloper.png" alt="SQL Developer 에서 소스 접속 성공">
    <figcaption>SQL Developer 에서 소스 접속 성공</figcaption>
</figure>
</p>
</li>
<li>
<p><code>작업콘솔</code>에서 타겟 검증을 위하여 WorkBench 설치 후 타겟DB 접속 테스트를 합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/workbench.png" alt="WorkBench 에서 타겟 접속 성공">
    <figcaption>WorkBench 에서 타겟 접속 성공</figcaption>
</figure>
</p>
</li>
<li>
<p><code>작업콘솔</code>에서 스키마 이관을 위하여 SCT 설치 후 소스, 타겟 접속 테스트를 합니다. SCT &gt; New Project wizard IU 입니다. Source engine 의 기본값이 <code>Oracle</code>인 것이 흥미롭습니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/sct_01.png" alt="SCT &amp;gt; New Project wizard IU">
    <figcaption>SCT &amp;gt; New Project wizard IU</figcaption>
</figure>
</p>
</li>
</ol>
<hr>
<h2 id="2-타겟db-셋팅">2. 타겟DB 셋팅<a hidden class="anchor" aria-hidden="true" href="#2-타겟db-셋팅">#</a></h2>
<h3 id="1-buffer-pool">1. Buffer pool<a hidden class="anchor" aria-hidden="true" href="#1-buffer-pool">#</a></h3>
<p>DMS가 타겟DB에 값을 쓸 때 버퍼캐쉬 크기가 처리 성능을 크게 좌우합니다. 디폴트값(128MB)에서 일시적으로 서버 메모리 한도 내에서 최대한으로 설정하도록 권장 드립니다. 금번 프로젝트의 경우 64GiB 로 설정하여 진행했습니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- buffer pool size 확인 (GiB)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">@@</span>innodb_buffer_pool_size <span style="color:#f92672">/</span> <span style="color:#ae81ff">1024</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">1024</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">1024</span>;
</code></pre></div><p>※ Innodb buffer pool size가 쓰기 성능에 얼만큼 영향이 큰지 테스트한 블로그 링크 참고 바랍니다.<br>
<a href="https://santander.co.kr/151">블로그 - innodb mysql/mariadb insert 속도 높이기</a></p>
<h3 id="2-timezone">2. Timezone<a hidden class="anchor" aria-hidden="true" href="#2-timezone">#</a></h3>
<p>EC2 에 MySQL 바이너리 설치한 초기 상태에서는 timezone 을 소스와 동일한 timezone 으로 설정해주어야 합니다. 먼저 소스 DB의 timezone을 확인합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">SELECT</span>   DBTIMEZONE,
   SESSIONTIMEZONE
<span style="color:#66d9ef">FROM</span>  DUAL;
</code></pre></div><blockquote>
<table>
<thead>
<tr>
<th>DBTIMEZONE</th>
<th>SESSIONTIMEZONE</th>
</tr>
</thead>
<tbody>
<tr>
<td>+09:00</td>
<td>UTC</td>
</tr>
</tbody>
</table>
</blockquote>
<p><!-- raw HTML omitted -->소스DB의 timezone 은 UTC + 09:00 인 Korea Standard Time(KST) 인 것을 확인 했습니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- 타겟DB timezone 중에 &#39;Seoul&#39;이 존재하는지 확인
</span><span style="color:#75715e"></span><span style="color:#66d9ef">SELECT</span>  B.NAME,A.TIME_ZONE_ID
<span style="color:#66d9ef">FROM</span>    MYSQL.TIME_ZONE A
        <span style="color:#66d9ef">INNER</span> <span style="color:#66d9ef">JOIN</span> MYSQL.TIME_ZONE_NAME B <span style="color:#66d9ef">ON</span> A.TIME_ZONE_ID <span style="color:#f92672">=</span> B.TIME_ZONE_ID
<span style="color:#66d9ef">WHERE</span>   B.NAME <span style="color:#66d9ef">LIKE</span> <span style="color:#e6db74">&#39;%Seoul&#39;</span>;
</code></pre></div><p><code>Asia/Seoul</code> timezone이 존재하지 않는다면 EC2 에서 다음과 같은 명령을 실행합니다.
아래 명령을 통하여 타겟DB의 표준시간대 테이블에 데이터를 삽입해줍니다.<br>
<a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-tzinfo-to-sql.html">MySQL 8.0 참조 매뉴얼  /  &hellip;  /  mysql_tzinfo_to_sql — 시간대 테이블로드</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql
</code></pre></div><p>타겟DB 설치경로 안에 <code>/etc/my.cnf</code> 또는 <code>/etc/my.cnf.d/</code> 경로 안에 <code>my.cnf</code> 파일 또는 <code>my.ini</code> 파일을 열어 안에 다음 내용을 추가해줍니다.</p>
<pre><code>[mysqld]
default-time-zone=Asia/Seoul
</code></pre><p>소스DB의 timezone에 맞춰 타겟DB 의 timezone 을 <code>Asia/Seoul</code> (KST) 로 변경해주어야 합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">SET</span> <span style="color:#66d9ef">GLOBAL</span> time_zone <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Asia/Seoul&#39;</span>;
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- 변경된 timezone 확인
</span><span style="color:#75715e"></span><span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">@@</span>TIME_ZONE, <span style="color:#f92672">@@</span>system_time_zone, <span style="color:#f92672">@@</span><span style="color:#66d9ef">GLOBAL</span>.TIME_ZONE, <span style="color:#f92672">@@</span><span style="color:#66d9ef">SESSION</span>.TIME_ZONE;
</code></pre></div><blockquote>
<table>
<thead>
<tr>
<th>@@TIME_ZONE</th>
<th>@@system_time_zone</th>
<th>@@GLOBAL.TIME_ZONE</th>
<th>@@SESSION.TIME_ZONE</th>
</tr>
</thead>
<tbody>
<tr>
<td>+09:00</td>
<td>KST</td>
<td>+09:00</td>
<td>+09:00</td>
</tr>
</tbody>
</table>
</blockquote>
<p><!-- raw HTML omitted -->정상적으로 적용되어 있는 것 확인 완료요!</p>
<p>※ MySQL on RDS 는 AWS 콘솔에서 <code>Parameter Group</code> 생성 및 적용하여 비교적 간단하게 변경 가능합니다.</p>
<h3 id="3-charset">3. Charset<a hidden class="anchor" aria-hidden="true" href="#3-charset">#</a></h3>
<p>소스DB의 charset을 확인하여 타겟DB에 적용해주도록 합니다. 데이터를 이관하기 전에 신중히 결정해야할 사항이며 이관 완료 이후에 charset, collation 변경 작업은 지옥문을 여는 경험이 될 수 있습니다. 일단 먼저 소스 DB의 charset을 확인합니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">SELECT</span>  NAME, VALUE$
<span style="color:#66d9ef">FROM</span>    SYS.PROPS$
<span style="color:#66d9ef">WHERE</span>   NAME <span style="color:#66d9ef">IN</span> (<span style="color:#e6db74">&#39;NLS_LANGUAGE&#39;</span>
    ,<span style="color:#e6db74">&#39;NLS_DATE_LANGUAGE&#39;</span>
    ,<span style="color:#e6db74">&#39;NLS_CHARACTERSET&#39;</span>
    ,<span style="color:#e6db74">&#39;NLS_NCHAR_CHARACTERSET&#39;</span>);

<span style="color:#66d9ef">SELECT</span>  <span style="color:#66d9ef">PARAMETER</span>, VALUE
<span style="color:#66d9ef">FROM</span>    NLS_DATABASE_PARAMETERS
<span style="color:#66d9ef">WHERE</span>   <span style="color:#66d9ef">PARAMETER</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;NLS_CHARACTERSET&#39;</span>;
</code></pre></div><p>resultset[0]</p>
<blockquote>
<table>
<thead>
<tr>
<th>NAME</th>
<th>VALUE$</th>
</tr>
</thead>
<tbody>
<tr>
<td>NLS_NCHAR_CHARACTERSET</td>
<td>AL16UTF16</td>
</tr>
<tr>
<td>NLS_LANGUAGE</td>
<td>AMERICAN</td>
</tr>
<tr>
<td>NLS_DATE_LANGUAGE</td>
<td>AMERICAN</td>
</tr>
<tr>
<td>NLS_CHARACTERSET</td>
<td><code>KO16KSC5601</code></td>
</tr>
</tbody>
</table>
</blockquote>
<p><!-- raw HTML omitted -->resultset[1]</p>
<blockquote>
<table>
<thead>
<tr>
<th>PARAMETER</th>
<th>VALUE</th>
</tr>
</thead>
<tbody>
<tr>
<td>NLS_CHARACTERSET</td>
<td><code>KO16KSC5601</code></td>
</tr>
</tbody>
</table>
</blockquote>
<p>NLS_CHARACTERSET 이 <code>KO16KSC5601</code>에 대응되는 charset 은 <code>EUCKR</code>, 또는 커버리지가 더 넓은 <code>UTF8</code>을 생각해볼 수 있습니다. charset <code>EUCKR</code> 에 대한 collation 은 <code>EUCKR_KOREAN_CI</code>, <code>EUCKR_BIN</code> 이 있는데 대소문자가 구별되는 이유로 <code>EUCKR_BIN</code> 이 적합합니다.</p>
<ul>
<li><code>EUCKR_BIN</code>: 한국어, 바이너리, <strong>대소문자 구분함</strong></li>
<li><code>EUCKR_KOREAN_CI</code>: 한국어, 대소문자 구분 안함</li>
</ul>
<p>Charset <code>EUCKR</code>, collation <code>EUCKR_BIN</code>을 결정했으니 이제 서버에 아래 명령을 실행해줍니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ vi /etc/mysql/my.cnf
</code></pre></div><p>파일 내용의 마지막에 다음 부분을 덧붙여준 후 :wq 로 저장 후 닫아줍니다. 그리고 서비스를 재시작하면 적용됩니다.</p>
<pre><code>[client]
default-character-set=euckr

[mysql]
default-character-set=euckr

[mysqld]
collation-server = euckr_bin
init-connect='SET NAMES euckr'
character-set-server = euckr
</code></pre><p>Charset, collation 도 설정 완료했습니다~</p>
<hr>
<h2 id="3-sct로-스키마를-이관해봅시다">3. <code>SCT</code>로 스키마를 이관해봅시다.<a hidden class="anchor" aria-hidden="true" href="#3-sct로-스키마를-이관해봅시다">#</a></h2>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/flow_sct.png" alt=" ">
    <figcaption> </figcaption>
</figure>
</p>
<ol>
<li>
<p>소스에서 SCT로 이관할 스키마를 선택하고 <code>Next</code>를 클릭합니다. 선택한 스키마 내에 전체 오브젝트 개수에 비례하여 시간이 오래 걸릴 수 있습니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/sct_02.png" alt="SCT에서 소스 스키마 선택">
    <figcaption>SCT에서 소스 스키마 선택</figcaption>
</figure>
</p>
</li>
<li>
<p>소스 스키마에 대한 로드 작업이 끝나면 여러가지 타겟의 종류 별로 몇개가 이관 가능한지, 몇개는 수동 조치를 취해야 하는지 전체 조사한 <code>Database migration assessment report</code>를 보여줍니다. pdf로도 다운로드 가능하며, 전체적으로 한번 훑어보고 <code>Next</code>를 클릭합니다.<br>
<em>(Procedure, funcion, sequence 는 migrating 대상이 아니므로 부담없이 <code>Next</code>클릭)</em><br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/sct_03.png" alt="보고서">
    <figcaption>보고서</figcaption>
</figure>
</p>
</li>
<li>
<p>SCT 관점에서 타겟의 엔진이 MySQL 인 것이 의미가 있고, RDS 또는 EC2 중 어떤 것인지는 중요하지 않기 때문에 <code>Amazon RDS for MySQL</code>을 선택하고 타겟의 접속정보 입력 후 <code>Test connection</code>, 접속 성공하면 <code>Next</code>를 클릭합니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/sct_04.png" alt="타겟 접속">
    <figcaption>타겟 접속</figcaption>
</figure>
</p>
</li>
<li>
<p>소스(좌측)에서 DDL을 추출할 스키마와 개체유형을 선택하고 <code>Convert schema</code>를 클릭합니다. 타겟(우측)에서 선택 체크된 항목들에 대해서 DDL을 적용하려면 <code>Apply to database</code>를 클릭하면 타겟 DB에 실제로 DDL이 적용됩니다.<br>

<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/sct_05.png" alt="소스 &lt;code&gt;Convert schema&lt;/code&gt; 클릭, 타겟 &lt;code&gt;Apply to database&lt;/code&gt; 클릭">
    <figcaption>소스 &lt;code&gt;Convert schema&lt;/code&gt; 클릭, 타겟 &lt;code&gt;Apply to database&lt;/code&gt; 클릭</figcaption>
</figure>
</p>
</li>
<li>
<p>타겟 DB에 아래 SQL을 실행해서 정상적으로 스키마가 적용되어 있는지 확인합니다.</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">SELECT</span>	A.TABLE_SCHEMA, A.<span style="color:#66d9ef">TABLE_NAME</span>, A.TABLE_COLLATION, A.TABLE_COMMENT,
        I.INDEX_COUNT, T.TRIGGER_COUNT
<span style="color:#66d9ef">FROM</span>	INFORMATION_SCHEMA.TABLES A
	    <span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> <span style="color:#66d9ef">LATERAL</span> ( <span style="color:#75715e">-- like OUTER APPLY
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">SELECT</span>	<span style="color:#66d9ef">COUNT</span>(<span style="color:#66d9ef">DISTINCT</span> I.INDEX_NAME) <span style="color:#66d9ef">AS</span> INDEX_COUNT
		<span style="color:#66d9ef">FROM</span>	INFORMATION_SCHEMA.<span style="color:#66d9ef">STATISTICS</span> I
        <span style="color:#66d9ef">WHERE</span>	I.TABLE_SCHEMA <span style="color:#f92672">=</span> A.TABLE_SCHEMA
        <span style="color:#66d9ef">AND</span>	I.<span style="color:#66d9ef">TABLE_NAME</span> <span style="color:#f92672">=</span> A.<span style="color:#66d9ef">TABLE_NAME</span>
        <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">1</span>
        ) I <span style="color:#66d9ef">ON</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">LEFT</span> <span style="color:#66d9ef">JOIN</span> <span style="color:#66d9ef">LATERAL</span> (
        <span style="color:#66d9ef">SELECT</span>	<span style="color:#66d9ef">COUNT</span>(<span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">AS</span> TRIGGER_COUNT
	    <span style="color:#66d9ef">FROM</span>	INFORMATION_SCHEMA.TRIGGERS T
        <span style="color:#66d9ef">WHERE</span>	T.<span style="color:#66d9ef">TRIGGER_SCHEMA</span> <span style="color:#f92672">=</span> A.TABLE_SCHEMA
        <span style="color:#66d9ef">AND</span>	T.EVENT_OBJECT_TABLE <span style="color:#f92672">=</span> A.<span style="color:#66d9ef">TABLE_NAME</span>
        <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">1</span>
        ) T <span style="color:#66d9ef">ON</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">WHERE</span>	A.TABLE_SCHEMA <span style="color:#66d9ef">LIKE</span> <span style="color:#e6db74">&#39;%&#39;</span>;
</code></pre></div><p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/wb_resultset.png" alt="타겟 DB에서 테이블 적용 확인">
    <figcaption>타겟 DB에서 테이블 적용 확인</figcaption>
</figure>
</p>
<p>※ 타겟DB가 MySQL 인 경우 테이블과 컬럼의 <code>comment</code>가 SCT로 이관되지 않음을 확인했습니다. 금번 프로젝트 진행하면서 AWS 케이스 오픈을 통하여 정식 요청하였으며, 추후 픽스될 것으로 보입니다.</p>
<p>SCT에 대한 상세한 가이드는 <a href="https://docs.aws.amazon.com/ko_kr/SchemaConversionTool/latest/userguide/CHAP_Welcome.html">AWS Schema Conversion Tool User Guide</a> 를 참고 바랍니다.</p>
<p>만약 SCT로 trigger 까지 이관시켰다면 DMS 태스크 실행 시 trigger로 인해 오류가 떨어지고 태스크가 멈출 수 있으므로 trigger 를 백업받아놓고 모두 제거하는 것을 추천드립니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#75715e">-- 트리거 리스트 출력
</span><span style="color:#75715e"></span><span style="color:#66d9ef">SHOW</span> TRIGGERS;

<span style="color:#75715e">-- SCT 가 이관해준 트리거 소스는 메모장에 백업해놓고 모두 제거
</span><span style="color:#75715e"></span><span style="color:#66d9ef">DROP</span> <span style="color:#66d9ef">TRIGGER</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">SCHEMA_NAME</span><span style="color:#f92672">&gt;</span>.<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">TABLE_NAME</span><span style="color:#f92672">&gt;</span>.<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">TRIGGER_NAME</span><span style="color:#f92672">&gt;</span>;
</code></pre></div><p>다시 한번 강조하지만 DMS로 데이터를 들이부은 이후에는 charset, collation 을 변경하는 데에 굉장히 긴 시간이 소요될 수 있습니다. 그래서 SCT 작업 끝나고 DMS 작업을 시작하기 이전에 아래 쿼리를 다시 실행해주면 세상 시원하겠습니다.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">DATABASE</span> <span style="color:#f92672">&lt;</span>database_name<span style="color:#f92672">&gt;</span> CHARACTER <span style="color:#66d9ef">SET</span> <span style="color:#f92672">=</span> EUCKR <span style="color:#66d9ef">COLLATE</span> <span style="color:#f92672">=</span> EUCKR_BIN;
<span style="color:#66d9ef">ALTER</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#f92672">&lt;</span><span style="color:#66d9ef">table_name</span><span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">CONVERT</span> <span style="color:#66d9ef">TO</span> CHARACTER <span style="color:#66d9ef">SET</span> EUCKR <span style="color:#66d9ef">COLLATE</span> EUCKR_BIN;
</code></pre></div><p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/doubleaction.png" alt="세상 시원">
    <figcaption>세상 시원</figcaption>
</figure>
</p>
<hr>
<h2 id="4-dms로-데이터를-이관해봅시다">4. <code>DMS</code>로 데이터를 이관해봅시다.<a hidden class="anchor" aria-hidden="true" href="#4-dms로-데이터를-이관해봅시다">#</a></h2>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/flow_dms.png" alt=" ">
    <figcaption> </figcaption>
</figure>

이제 본격적으로 <code>DMS</code>로 데이터를 넘겨볼껀데요. 그전에 복제 인스턴스, 엔드포인트, 마이그레이션 태스크를 생성해야 합니다.</p>
<p>먼저, 복제 인스턴스는 아래 사양으로 생성했습니다.</p>
<ul>
<li>클래스: dms.c4.4xlarge<br>
<del><em>(처음에는 c4.large였다가 너무 느려 속 터져서 업그레이드)</em></del></li>
<li>vCPUs: 8</li>
<li>메모리: 30GiB</li>
<li>전용EBS 대역폭: 2,000Mbps</li>
<li>할당 스토리지: 1000GiB</li>
</ul>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/dms_01.png" alt="DMS 복제 인스턴스 생성 완료">
    <figcaption>DMS 복제 인스턴스 생성 완료</figcaption>
</figure>
</p>
<p>엔드포인트는 유형에 따라 <code>소스</code> 1개, <code>대상</code> 2개로 생성했습니다. 소스DB, 타겟DB 의 접속정보를 각각 알맞게 넣어주고 <code>테스트 실행</code>을 해봅니다.</p>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/dms_02.png" alt="DMS 엔드포인트 생성 완료">
    <figcaption>DMS 엔드포인트 생성 완료</figcaption>
</figure>
</p>
<p>마이그레이션 태스크는 아래 캡처대로 순서대로 값을 입력합니다.</p>
<ul>
<li>태스크 식별자: 식별할 수 있는 이름</li>
<li>복제 인스턴스: 복제 인스턴스 선택</li>
<li>소스 엔드포인트: 소스DB 엔드포인트 선택</li>
<li>대상 엔드포인트: 타겟DB 엔드포인트 선택</li>
<li>마이그레이션 유형: <code>기존 데이터 마이그레이션</code> 선택<br>
<em>(기존 데이터를 일회성으로 마이그레이션할 것이기 때문에)</em></li>
<li>태스크 설정 편집모드: <code>마법사</code></li>
<li>대상 테이블 준비 모드: 아무 작업 안 함<br>
※ <code>대상에서 테이블 삭제</code> 는 DDL(drop &amp; create)을 실행하기 때문에 charset, collation, trigger 등이 원래대로 생성될 수 있음</li>
<li>복제에 LOB 열 포함: <code>전제 LOB 모드</code></li>
<li>LOB 청크 크기: 64</li>
<li>검증 활성화: Y</li>
<li>CloudWatch 로그 활성화: Y
※ 그외 CloudWatch 관련 설정들은 모두 <code>기본값</code></li>
<li>테이블 매핑 편집모드: <code>마법사</code></li>
<li>선택 규칙 &gt; <code>새 선택 규칙 추가</code> &gt; 스키마 입력 &gt; 테이블 이름 (필요에 따라 입력, % 는 전체 테이블)</li>
<li>마이그레이션 전 평가: N</li>
<li>마이그레이션 태스크 시작 구성: <code>나중에 수동으로</code></li>
<li>태그: (필요한 경우에 입력, 많이 입력할수록 추후에 찾기 용이함)</li>
<li><code>태스크 생성</code> 클릭</li>
</ul>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/dms_03.png" alt="DMS 마이그레이션 태스크 등록 과정 (1)">
    <figcaption>DMS 마이그레이션 태스크 등록 과정 (1)</figcaption>
</figure>


<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/dms_04.png" alt="DMS 마이그레이션 태스크 등록 과정 (2)">
    <figcaption>DMS 마이그레이션 태스크 등록 과정 (2)</figcaption>
</figure>


<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/dms_05.png" alt="DMS 마이그레이션 태스크 등록 과정 (3)">
    <figcaption>DMS 마이그레이션 태스크 등록 과정 (3)</figcaption>
</figure>
</p>
<p>마이그레이션 해야할 스키마 갯수, 테이블 갯수에 따라 상황이 다르겠지만, 금번 프로젝트에서는 스키마 이름 단위로 태스크를 생성하여 마이그레이션을 진행했습니다. (테이블 이름은 % 로 그냥 둔채로)</p>
<p>스키마 갯수 대로 태스크를 생성해놓은 다음 태스크들을 일괄로 <code>시작</code>을 눌러줍니다.</p>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/dms_06.png" alt="DMS 마이그레이션 태스크 시작">
    <figcaption>DMS 마이그레이션 태스크 시작</figcaption>
</figure>
</p>
<p>상태 값에는 다음 값들이 올 수 있으며, 아무 오류 없이 완료 되면 <code>로드 완료</code> 로 바뀌게 됩니다. 이제 우리가 해야할 것은 오로지, <code>Close your eyes and hope for the best</code> 말고는 없습니다.</p>
<hr>
<h2 id="5-마이그레이션-검증">5. 마이그레이션 검증<a hidden class="anchor" aria-hidden="true" href="#5-마이그레이션-검증">#</a></h2>
<p>데이터까지 마이그레이션이 완료된 후에는 소스, 타겟의 difference 가 존재하는지 검증해봐야 하며 검증 절차는 아래와 같이 구성하였습니다.</p>
<ol>
<li>소스, 타겟의 테이블(뷰 포함) 갯수 비교</li>
<li>소스, 타겟의 테이블 당 row count 비교</li>
<li>소스, 타겟의 Index 갯수 비교</li>
<li>소스, 타겟의 Constraint 갯수 비교</li>
</ol>
<p>위 절차들의 검증이 모두 끝나고 나면 비로소 DB 마이그레이션 작업이 완료됐다고 볼 수 있습니다. 아래 이미지는 Google sheet로 기록해놓았던 이관진행 문서입니다.</p>
<p>
<figure style="text-align: center;">
    <img src="/files/blog/2020-11-16/validation.png" alt="마이그레이션 진행 문서">
    <figcaption>마이그레이션 진행 문서</figcaption>
</figure>
</p>
<hr>
<h2 id="작업을-마치며">작업을 마치며<a hidden class="anchor" aria-hidden="true" href="#작업을-마치며">#</a></h2>
<p>그동안 Youtube로만 접했던 AWS의 <code>DMS</code>, <code>SCT</code>를 직접 사용해보니 아주 약간의 버그성 동작과 모호한 UI 로 인해 작업 초반에는 생산성이 떨어졌던 것이 사실이나, 소스/타겟에서 지원하는 DB engine 종류가 매우 다양하며 특히 데이터를 일괄로 퍼서 넘기는 속도 등 성능이 뛰어나다고 봅니다. <del>(육아와 DB이관은 캐시템 으로 해결하세요.)</del></p>
<p>향후에 실 서비스 상태의 DB를 마이그레이션 하게 되는 경우 추가로 고려해야 할 것들을 대략 정리해봤습니다.</p>
<ol>
<li>다운타임 최소화</li>
<li>지속적인 변경 사항 복제 시 지연시간 최소화</li>
<li>실패 시 roll-back 방안</li>
</ol>
<p>전통적인 DB 마이그레이션 작업은 일부 DBA, 일부 DB개발자 들만의 야간 작업으로 많이 치부되어오곤 했었습니다. 마이그레이션 진행 시 철야는 물론이었고, 스크립트 수작업하는 경우도 부지기수 였고, 경험 많은 DBA가 없으면 심각한 예외상황에 직면했을 경우 롤백하는 경우도 많았었지요.</p>
<p>AWS DMS의 경우 AWS콘솔에서 누구나 쉽게 이해하고 사용할 수 있도록 구성되어 있어서, 이제 앞으로의 DB 마이그레이션은 기성 DBA 들만의 작업이 아닐 수 있겠다는 생각이 들었네요.</p>

</div>
  <div class="post-content">
      <hr/>
  <div style="display: flex; flex-direction: row; margin: 10px;">
    <div style="background: url(/files/authors/%ea%b9%80%ec%a0%95%ec%9a%b0.jpg) no-repeat center; 
        background-size: cover; width: 80px; height: 80px; 
        border-radius: 100%;">
    </div>
      <div style="margin-left: 10px; padding-top: 5px;">
        <strong>김정우</strong>
        <p>
            <a href="https://tech.cloudmt.co.kr/authors/jungwoo-kim/">저자의 글 더 보기.</a>
        </p>
      </div>
  </div>
  
</div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://tech.cloudmt.co.kr/tags/db-migration">DB Migration</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/on-premise">On-premise</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/oracle">Oracle</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/mysql">MySQL</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/cloud">Cloud</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/amazon-web-services">Amazon Web Services</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/aws">AWS</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/ec2">EC2</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/dms">DMS</a></li>
      <li><a href="https://tech.cloudmt.co.kr/tags/sct">SCT</a></li>
    </ul>






<div class="share-buttons">
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기 on twitter"
        href="https://twitter.com/intent/tweet/?text=AWS%20DMS%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%97%ac%20Oracle%ec%97%90%ec%84%9c%20MySQL%eb%a1%9c%20DB%20%eb%a7%88%ec%9d%b4%ea%b7%b8%eb%a0%88%ec%9d%b4%ec%85%98%20%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f11%2f16%2fdb_migration_from_oracle_to_mysql_in_aws_ec2%2f&amp;hashtags=DBMigration%2cOn-premise%2cOracle%2cMySQL%2cCloud%2cAmazonWebServices%2cAWS%2cEC2%2cDMS%2cSCT">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-253.927,424.544c135.939,0 210.268,-112.643 210.268,-210.268c0,-3.218 0,-6.437 -0.153,-9.502c14.406,-10.421 26.973,-23.448 36.935,-38.314c-13.18,5.824 -27.433,9.809 -42.452,11.648c15.326,-9.196 26.973,-23.602 32.49,-40.92c-14.252,8.429 -30.038,14.56 -46.896,17.931c-13.487,-14.406 -32.644,-23.295 -53.946,-23.295c-40.767,0 -73.87,33.104 -73.87,73.87c0,5.824 0.613,11.494 1.992,16.858c-61.456,-3.065 -115.862,-32.49 -152.337,-77.241c-6.284,10.881 -9.962,23.601 -9.962,37.088c0,25.594 13.027,48.276 32.95,61.456c-12.107,-0.307 -23.448,-3.678 -33.41,-9.196l0,0.92c0,35.862 25.441,65.594 59.311,72.49c-6.13,1.686 -12.72,2.606 -19.464,2.606c-4.751,0 -9.348,-0.46 -13.946,-1.38c9.349,29.426 36.628,50.728 68.965,51.341c-25.287,19.771 -57.164,31.571 -91.8,31.571c-5.977,0 -11.801,-0.306 -17.625,-1.073c32.337,21.15 71.264,33.41 112.95,33.41Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기 on linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f11%2f16%2fdb_migration_from_oracle_to_mysql_in_aws_ec2%2f&amp;title=AWS%20DMS%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%97%ac%20Oracle%ec%97%90%ec%84%9c%20MySQL%eb%a1%9c%20DB%20%eb%a7%88%ec%9d%b4%ea%b7%b8%eb%a0%88%ec%9d%b4%ec%85%98%20%ed%95%98%ea%b8%b0&amp;summary=AWS%20DMS%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%97%ac%20Oracle%ec%97%90%ec%84%9c%20MySQL%eb%a1%9c%20DB%20%eb%a7%88%ec%9d%b4%ea%b7%b8%eb%a0%88%ec%9d%b4%ec%85%98%20%ed%95%98%ea%b8%b0&amp;source=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f11%2f16%2fdb_migration_from_oracle_to_mysql_in_aws_ec2%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기 on reddit"
        href="https://reddit.com/submit?url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f11%2f16%2fdb_migration_from_oracle_to_mysql_in_aws_ec2%2f&title=AWS%20DMS%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%97%ac%20Oracle%ec%97%90%ec%84%9c%20MySQL%eb%a1%9c%20DB%20%eb%a7%88%ec%9d%b4%ea%b7%b8%eb%a0%88%ec%9d%b4%ec%85%98%20%ed%95%98%ea%b8%b0">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기 on facebook"
        href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f11%2f16%2fdb_migration_from_oracle_to_mysql_in_aws_ec2%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기 on whatsapp"
        href="https://api.whatsapp.com/send?text=AWS%20DMS%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%97%ac%20Oracle%ec%97%90%ec%84%9c%20MySQL%eb%a1%9c%20DB%20%eb%a7%88%ec%9d%b4%ea%b7%b8%eb%a0%88%ec%9d%b4%ec%85%98%20%ed%95%98%ea%b8%b0%20-%20https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f11%2f16%2fdb_migration_from_oracle_to_mysql_in_aws_ec2%2f">
        <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve">
            <path
                d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
        </svg>
    </a>
    <a target="_blank" rel="noopener noreferrer" aria-label="share AWS DMS를 활용하여 Oracle에서 MySQL로 DB 마이그레이션 하기 on telegram"
        href="https://telegram.me/share/url?text=AWS%20DMS%eb%a5%bc%20%ed%99%9c%ec%9a%a9%ed%95%98%ec%97%ac%20Oracle%ec%97%90%ec%84%9c%20MySQL%eb%a1%9c%20DB%20%eb%a7%88%ec%9d%b4%ea%b7%b8%eb%a0%88%ec%9d%b4%ec%85%98%20%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2ftech.cloudmt.co.kr%2f2020%2f11%2f16%2fdb_migration_from_oracle_to_mysql_in_aws_ec2%2f">
        <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28">
            <path
                d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
        </svg>
    </a>
</div>

  </footer>
</article>
    </main><footer class="footer">
    <span>&copy; 2021 <a href="https://tech.cloudmt.co.kr">CLOUDMATE Tech</a></span>
    <span>&middot;</span>
    <span>Powered by <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a></span>
    <span>&middot;</span>
    <span>Theme <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>



<script defer src="/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js" integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w="
    onload="hljs.initHighlightingOnLoad();"></script>
<script>
    window.onload = function () {
        if (localStorage.getItem("menu-scroll-position")) {
            document.getElementById('menu').scrollLeft = localStorage.getItem("menu-scroll-position");
        }
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                behavior: "smooth"
            });
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.replaceState(null, null, `#${id}`);
            }
        });
    });
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

    function menu_on_scroll() {
        localStorage.setItem("menu-scroll-position", document.getElementById('menu').scrollLeft);
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

</body>

</html>
